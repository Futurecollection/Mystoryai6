{% extends "base.html" %}
{% block content %}
<h1 class="mb-4">Personalizations</h1>
<form method="POST" class="row g-3">

  <div class="col-12">
    <h3>User Personalizations</h3>
  </div>
  <div class="col-md-6">
    <label class="form-label">Name</label>
    <select class="form-select" name="user_name">
      <option value="">--Select--</option>
      {% for opt in user_name_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="user_name_custom" placeholder="Type custom">
  </div>
  <div class="col-md-6">
    <label class="form-label">Age</label>
    <select class="form-select" name="user_age">
      <option value="">--Select--</option>
      {% for age in user_age_options %}
        <option value="{{ age }}">{{ age }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="user_age_custom" placeholder="Type custom">
  </div>
  <div class="col-md-6">
    <label class="form-label mt-2">Personality</label>
    <select class="form-select" name="user_personality">
      <option value="">--Select--</option>
      <!-- If you have a user_personality_options list, put it here. Otherwise custom only. -->
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="user_personality_custom" placeholder="Type custom">
  </div>
  <div class="col-md-6">
    <label class="form-label mt-2">Background</label>
    <textarea class="form-control" name="user_background" rows="2" placeholder="Your background or backstory"></textarea>
  </div>

  <hr class="my-4">

  <div class="col-12">
    <h3>Romantic Interest Personalizations</h3>
  </div>
  <div class="col-md-4">
    <label class="form-label">Name</label>
    <select class="form-select" name="npc_name">
      <option value="">--Select--</option>
      {% for opt in npc_name_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_name_custom" placeholder="e.g. Zoe">
  </div>
  <div class="col-md-4">
    <label class="form-label">Gender</label>
    <select class="form-select" name="npc_gender">
      <option value="">--Select--</option>
      {% for opt in npc_gender_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_gender_custom" placeholder="Type custom">
  </div>
  <div class="col-md-4">
    <label class="form-label">Age</label>
    <select class="form-select" name="npc_age">
      <option value="">--Select--</option>
      {% for age in npc_age_options %}
        <option value="{{ age }}">{{ age }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_age_custom" placeholder="e.g. 23">
  </div>

  <div class="col-md-4">
    <label class="form-label mt-2">Ethnicity / Country</label>
    <select class="form-select" name="npc_ethnicity">
      <option value="">--Select--</option>
      {% for opt in ethnicity_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_ethnicity_custom" placeholder="Type custom">
  </div>
  <div class="col-md-4">
    <label class="form-label mt-2">Body Type</label>
    <select class="form-select" name="npc_body_type">
      <option value="">--Select--</option>
      {% for opt in body_type_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_body_type_custom" placeholder="Type custom">
  </div>
  <div class="col-md-4">
    <label class="form-label mt-2">Hair Color</label>
    <select class="form-select" name="npc_hair_color">
      <option value="">--Select--</option>
      {% for opt in hair_color_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_hair_color_custom" placeholder="Type custom">
  </div>

  <div class="col-md-4">
    <label class="form-label mt-2">Hair Style/Length</label>
    <select class="form-select" name="npc_hair_style">
      <option value="">--Select--</option>
      {% for opt in hair_style_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_hair_style_custom" placeholder="Type custom">
  </div>
  <div class="col-md-4">
    <label class="form-label mt-2">Clothing / Outfit</label>
    <select class="form-select" name="npc_clothing">
      <option value="">--Select--</option>
      {% for opt in clothing_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_clothing_custom" placeholder="Type custom">
  </div>
  <div class="col-md-4">
    <label class="form-label mt-2">Personality</label>
    <select class="form-select" name="npc_personality">
      <option value="">--Select--</option>
      {% for opt in npc_personality_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_personality_custom" placeholder="Type custom">
  </div>

  <div class="col-md-6">
    <label class="form-label mt-2">Occupation / Role</label>
    <select class="form-select" name="npc_occupation">
      <option value="">--Select--</option>
      {% for opt in occupation_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_occupation_custom" placeholder="Type custom">
  </div>
  <div class="col-md-6">
    <label class="form-label mt-2">Current Situation</label>
    <select class="form-select" name="npc_current_situation">
      <option value="">--Select--</option>
      {% for opt in current_situation_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="npc_current_situation_custom" placeholder="Type custom">
  </div>

  <hr class="my-4">

  <div class="col-12">
    <h3>Location / Encounter Context</h3>
  </div>
  <div class="col-md-6">
    <label class="form-label">Physical Location / Environment</label>
    <select class="form-select" name="environment">
      <option value="">--Select--</option>
      {% for opt in environment_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="environment_custom" placeholder="Type custom">
  </div>
  <div class="col-md-6">
    <label class="form-label">Encounter Context</label>
    <select class="form-select" name="encounter_context">
      <option value="">--Select--</option>
      {% for opt in encounter_options %}
        <option value="{{ opt }}">{{ opt }}</option>
      {% endfor %}
    </select>
    <label class="form-label mt-1">Or custom:</label>
    <input type="text" class="form-control" name="encounter_context_custom" placeholder="Type custom">
  </div>

  <hr class="my-4">

  <div class="col-12">
    <h4>Image Generation Settings</h4>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" name="use_single_seed" value="yes" id="flexCheckDefault">
      <label class="form-check-label" for="flexCheckDefault">
        Use the same seed for all images (consistent style)
      </label>
    </div>
  </div>

  <div class="col-12 mt-4">
    <button type="submit" name="save_personalization" value="true" class="btn btn-primary btn-lg">Save & Next</button>
  </div>
</form>
{% endblock %}
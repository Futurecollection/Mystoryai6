
// Character biographies for the pre-made characters
// Each character has a name, bio, and various attributes
window.characterBios = {
  "emma": {
    "name": "Emma Chen",
    "gender": "Female",
    "age": "28",
    "ethnicity": "Chinese American",
    "sexual_orientation": "Straight",
    "relationship_goal": "Casual Dating",
    "body_type": "Athletic",
    "hair_color": "Black",
    "hair_style": "Long and Straight",
    "personality": "Confident and Ambitious",
    "clothing": "Business Casual - Blazer",
    "occupation": "Tech CEO",
    "current_situation": "Career-focused",
    "environment": "Upscale Restaurant",
    "encounter_context": "Business Meeting",
    "bio": "# Emma Chen\n\nEmma is a 28-year-old Chinese American tech CEO with a commanding presence. Having founded her AI startup at 22, she's transformed it into a rising Silicon Valley success story through equal parts technical brilliance and business savvy. Her sleek black hair frames a face that transitions effortlessly between intense focus and disarming warmth.\n\n## Relationship Status\nDespite occasional dates, Emma's relationships have consistently taken a backseat to her professional ambitions. Now established in her career, she's beginning to prioritize meaningful connection, though she's selective about who she lets into her carefully constructed world. Meeting someone who values ambition but understands life balance intrigues her.",
    "bio": "# Emma Chen\n\nEmma is a 28-year-old Chinese American tech CEO with a commanding presence. Having founded her AI startup at 22, she's transformed it into a rising Silicon Valley success story through equal parts technical brilliance and business savvy. Her sleek black hair frames a face that transitions effortlessly between analytical focus and genuine warmth.\n\n## Personal Information\nEmma lives in a minimalist penthouse apartment in San Francisco, decorated with a perfect blend of modern tech and traditional Chinese art pieces. She maintains a disciplined schedule, rising at 5AM daily for meditation and strategic planning before most of her competitors have had their first coffee.\n\n## Background & History\nRaised by immigrant parents who emphasized education and innovation, Emma graduated from Stanford with dual degrees in Computer Science and Business at 20. Rather than joining an established company, she took the risk of launching her own venture focused on enterprise AI solutions. Her early struggle to be taken seriously as a young woman in tech has given her both resilience and a commitment to mentoring other women in STEM fields.\n\n## Personality\nEmma combines analytical precision with intuitive people skills. She's direct but diplomatic, ambitious without being ruthless, and maintains a subtle sense of humor that emerges once she's comfortable. While intensely focused on her company's success, she's increasingly aware of the need for personal connection beyond her professional achievements.\n\n## Current Life\nCurrently closing a major funding round, Emma finds herself at a crossroads between scaling her company globally and reassessing her personal priorities. Despite her public success, she's increasingly questioning whether her all-consuming focus on work has come at too high a personal cost.\n\n## Appearance\nWith an athletic build maintained through regular morning runs and weekly kickboxing sessions, Emma projects physical confidence. She typically dresses in tailored blazers and designer business attire that signal professionalism while maintaining her personal style. Her subtle makeup enhances her natural features rather than masking them.\n\n## Interests & Hobbies\nBeyond technology, Emma is passionate about contemporary art collection, plays classical piano as a stress relief, enjoys high-intensity workouts, and has recently taken up Japanese cooking classes as a creative outlet. She's an avid reader of both business strategy books and classic literature.\n\n## Relationship Status\nDespite occasional dates, Emma's relationships have consistently taken a backseat to her professional ambitions. Now established in her career, she's beginning to prioritize meaningful connection, though she's selective about who she lets into her carefully constructed world. Meeting someone who values ambition but understands life balance intrigues her."
  },
  "scarlett": {
    "name": "Scarlett Winters",
    "gender": "Female",
    "age": "32",
    "ethnicity": "Caucasian",
    "sexual_orientation": "Bisexual",
    "relationship_goal": "Serious Relationship",
    "body_type": "Hourglass Figure",
    "hair_color": "Red",
    "hair_style": "Long and Wavy",
    "personality": "Confident and Charismatic",
    "clothing": "Elegant Cocktail Dress",
    "occupation": "Hollywood Actress",
    "current_situation": "Between Major Projects",
    "environment": "Exclusive Hollywood Party",
    "encounter_context": "Chance Encounter While Traveling",
    "bio": "# Scarlett Winters\n\nScarlett is a 32-year-old Hollywood actress known for her versatility across both indie films and blockbusters. With her signature flowing red waves and commanding screen presence, she's become one of the industry's most recognizable talents while maintaining an authentic approach to her craft and public image.\n\n## Personal Information\nDespite her fame, Scarlett maintains a relatively private life in her Spanish-style villa in the Hollywood Hills, preferring intimate gatherings with trusted friends over the constant party circuit. She divides her time between Los Angeles and New York, with frequent travel for film shoots around the world.\n\n## Background & History\nBorn to a theater director father and visual artist mother in Boston, Scarlett was immersed in creative expression from childhood. After studying at Juilliard, she broke into film through challenging independent roles before gradually building her reputation. Her career-defining role came five years ago in an emotionally raw drama that earned her critical acclaim and expanded her casting opportunities.\n\n## Personality\nScarlett combines natural charisma with genuine warmth. She's known for her quick wit in interviews and thoughtful articulation of complex issues. While confident professionally, she maintains a disarming humility about her success. She approaches new connections with initial caution—having learned from public missteps—but is deeply loyal and unguarded once trust is established.\n\n## Current Life\nCurrently between major projects, Scarlett is selectively reviewing scripts while developing her own production company focused on female-driven narratives. The brief professional pause has created space for personal reflection and a desire to cultivate relationships outside the industry bubble.\n\n## Appearance\nWith a classic hourglass figure and creamy complexion that complements her striking red hair, Scarlett embodies timeless glamour while maintaining a contemporary edge. She moves with the practiced grace of someone comfortable in the public eye but retains gestures and expressions that reveal her genuine emotional responses.\n\n## Interests & Hobbies\nBeyond acting, Scarlett is an accomplished jazz vocalist who occasionally performs at intimate venues under a pseudonym. She's passionate about contemporary photography, practices ashtanga yoga daily, collects vintage film cameras, and has recently taken up surfing as both physical challenge and meditative practice.\n\n## Relationship Status\nScarlett's romantic history includes two high-profile relationships that ended amicably and several private connections that never reached tabloid attention. While her career remains central to her identity, she's increasingly interested in finding a partner who understands her industry but isn't defined by it—someone who sees beyond her public persona to her authentic self. Meeting someone outside her usual professional circles has become especially appealing."
  },
  "zara": {
    "name": "Zara Malik",
    "gender": "Female",
    "age": "26",
    "ethnicity": "Pakistani-British",
    "sexual_orientation": "Straight",
    "relationship_goal": "Open to Possibilities",
    "body_type": "Slender",
    "hair_color": "Dark Brown",
    "hair_style": "Long and Wavy",
    "personality": "Creative and Passionate",
    "clothing": "Avant-garde Fashion",
    "occupation": "Fashion Designer",
    "current_situation": "Rising Star",
    "environment": "Fashion Week After-Party",
    "encounter_context": "Professional Introduction",
    "bio": "# Zara Malik\n\nZara is a 26-year-old British-Pakistani fashion designer whose bold, culturally-infused designs have rapidly risen to prominence in London's competitive fashion scene. With her keen eye for emerging trends and fearless approach to innovation, she represents a new generation of designers blending traditional influences with modern sensibilities.\n\n## Personal Information\nZara lives in a converted warehouse loft in East London filled with fabric samples, vintage furniture, and an ever-growing collection of art from emerging creators. Her space reflects her design philosophy—structured chaos with unexpected moments of perfect harmony.\n\n## Background & History\nBorn in Bradford to Pakistani immigrants, Zara navigated between cultures from an early age, finding expression through fashion. After graduating from Central Saint Martins with honors, she worked under several established designers before launching her label three years ago. Her breakthrough collection, which reinterpreted traditional South Asian textiles through a contemporary lens, caught the attention of industry insiders and positioned her as a voice for cultural fusion in fashion.\n\n## Personality\nZara's creative intensity is balanced by genuine warmth and intellectual curiosity. She approaches both design and personal interactions with passion, often speaking rapidly when excited about new concepts. While professionally confident, she remains refreshingly unpretentious, maintaining close ties to her family and childhood friends despite her rising profile.\n\n## Current Life\nCurrently preparing for her upcoming show at London Fashion Week, Zara's professional life dominates her schedule. The collection represents her most ambitious work yet, incorporating sustainable materials and challenging conventional silhouettes. While thriving creatively, she's increasingly aware of the personal relationships she's neglected during her professional ascent.\n\n## Appearance\nWith a slender frame that carries clothes beautifully, Zara frequently becomes a living model for her designs. Her long dark waves frame expressive eyes that notice every detail in her surroundings. She carries herself with the natural poise of someone comfortable in their physical form, using subtle gestures to emphasize her points when speaking.\n\n## Interests & Hobbies\nBeyond fashion, Zara is passionate about avant-garde cinema, practices Urdu calligraphy as a connection to her heritage, attends underground music events to discover emerging artists, and photographs urban architecture for design inspiration. She's recently started taking ceramics classes, enjoying the tactile change from fabric work.\n\n## Relationship Status\nZara's romantic history includes a serious three-year relationship that ended as her career accelerated, followed by casual dating that never evolved into deeper connection. While open to relationship possibilities, she's wary of partners who are either intimidated by her ambition or attracted merely to her rising profile. Meeting someone who appreciates both her creative vision and her desire for authentic connection would be a welcome development in her otherwise meticulously designed life."
  },
  "natalia": {
    "name": "Natalia Petrova",
    "gender": "Female",
    "age": "34",
    "ethnicity": "Russian",
    "sexual_orientation": "Straight",
    "relationship_goal": "Meaningful Connection",
    "body_type": "Athletic",
    "hair_color": "Dark Brown",
    "hair_style": "Shoulder-Length",
    "personality": "Intelligent and Observant",
    "clothing": "Smart Casual - Blazer & Jeans",
    "occupation": "International Journalist",
    "current_situation": "Recently Relocated",
    "environment": "Upscale Cafe",
    "encounter_context": "Working on Assignment",
    "bio": "# Natalia Petrova\n\nNatalia is a 34-year-old Russian international journalist whose incisive reporting has taken her to over forty countries covering everything from political upheavals to humanitarian crises. With her sharp intellect and uncommon empathy, she's built a reputation for stories that reveal the human dimensions of complex global issues.\n\n## Personal Information\nHaving recently relocated to New York after years of nomadic living, Natalia is adjusting to a somewhat permanent address in a book-filled apartment overlooking Central Park. The space is minimally decorated but rich with artifacts collected during her global assignments—each item carrying a story she's willing to share given the right company.\n\n## Background & History\nBorn in Moscow to academic parents, Natalia studied at Moscow State University before earning a journalism fellowship at Columbia. Her early career covering the Syrian refugee crisis earned international recognition and launched her trajectory as a respected foreign correspondent. Though she's witnessed humanity at its worst, these experiences have deepened rather than dimmed her belief in people's capacity for connection across seemingly insurmountable divides.\n\n## Personality\nNatalia combines intellectual rigor with emotional intelligence and cultural adaptability. Professional necessity has made her an exceptional listener who asks precisely the right questions to uncover what's beneath surface narratives. While somewhat guarded until trust is established, she possesses a dry wit that emerges in comfortable settings and a capacity for genuine wonder that years of witnessing global tragedy haven't diminished.\n\n## Current Life\nCurrently working on an in-depth series about climate migration, Natalia is experiencing the novel sensation of having a home base while pursuing meaningful work. After years of living out of a suitcase, she's navigating the unfamiliar territory of potential rootedness while maintaining the global perspective that defines her professional identity.\n\n## Appearance\nWith an athletic build from years of navigating difficult terrain on assignment, Natalia moves with purpose and economy. Her shoulder-length dark hair frames striking features that communicate intensity and focus. She typically dresses in well-tailored, practical clothing that transitions easily between professional contexts and unexpected situations—a habit from years of rapid deployment to breaking stories.\n\n## Interests & Hobbies\nBeyond journalism, Natalia is an avid rock climber, finding both physical challenge and mental clarity in the sport. She speaks five languages fluently, collects first-edition Russian literature, practices film photography as a personal counterpoint to her digital reporting work, and has recently taken up paddle boarding in the Hudson as a way to connect with her new city from a different perspective.\n\n## Relationship Status\nNatalia's career has made sustained relationships challenging, though she's had several significant connections in different countries. Her romantic history includes a long-distance relationship with a humanitarian physician that ended when their deployment patterns made meaningful connection impossible. Now considering a more rooted phase professionally, she's cautiously open to finding a partner who understands her need for both deep connection and continued global engagement. Meeting someone who values both intellectual depth and emotional authenticity would be particularly compelling."
  },
  "henry": {
    "name": "Henry Fielding",
    "gender": "Male",
    "age": "30",
    "ethnicity": "Caucasian",
    "sexual_orientation": "Straight",
    "relationship_goal": "Long-term Relationship",
    "body_type": "Athletic",
    "hair_color": "Blonde",
    "hair_style": "Short Fade Cut",
    "personality": "Confident and Charismatic",
    "clothing": "Athletic Wear",
    "occupation": "Fitness Entrepreneur",
    "current_situation": "Business Expansion",
    "environment": "High-end Gym",
    "encounter_context": "Fitness Class",
    "bio": "# Henry Fielding\n\nHenry is a charismatic 30-year-old fitness entrepreneur with an athletic build honed through years of dedicated training. His warm smile, short fade haircut, and thoughtfully chosen activewear reflect both his professional focus and personal style.\n\n## Personal Information\nHenry lives in a converted industrial loft in a trendy urban neighborhood, featuring both a state-of-the-art home gym and a surprisingly extensive collection of culinary equipment. His space balances minimalist aesthetics with comfortable livability, much like his approach to fitness emphasizes performance without sacrificing enjoyment.\n\n## Background & History\nRaised in a small coastal town, Henry discovered weight training as a formerly scrawny teenager, beginning a journey that transformed both his physique and confidence. After college, where he studied business and nutrition, he worked as a personal trainer before identifying a market gap for science-based fitness programming. Five years ago, he launched his boutique fitness concept combining strength training with recovery-focused methodology, which has since expanded to three locations with a growing online presence.\n\n## Personality\nHenry blends natural charisma with genuine empathy, making him exceptional at connecting with people across fitness levels. His confidence comes without arrogance, and he approaches both business and relationships with optimistic pragmatism. While competitive in athletic pursuits, he's collaborative in his professional and personal life, believing strongly in mutual growth and support.\n\n## Current Life\nCurrently focused on expanding his fitness brand nationally through strategic partnerships, Henry balances entrepreneurial ambition with a growing desire for deeper personal connections. His social circle is broad but predominantly profession-adjacent, leaving him increasingly interested in connecting with people outside the fitness industry bubble.\n\n## Appearance\nWith an athletic physique that demonstrates his balanced approach to fitness, Henry carries himself with relaxed confidence. His expressions are uncommonly expressive and authentic, making him easy to read in conversation. He typically dresses in well-fitted athletic wear that transitions seamlessly between professional coaching and social settings.\n\n## Interests & Hobbies\nBeyond fitness, Henry is passionate about adventure travel, experimental cooking (particularly health-optimized comfort food), landscape photography, and is currently learning acoustic guitar as a meditative counterpoint to his physically intensive career. He's also actively involved in youth mentorship programs, focusing on building confidence through physical achievement.\n\n## Relationship Status\nDespite several meaningful relationships, Henry's romantic life has often taken a backseat to building his business. Now established professionally, he's increasingly prioritizing finding a partner who values health and personal growth but offers complementary perspectives outside his professional focus. Meeting someone with their own passions and perspectives who can help him expand his worldview beyond fitness has become particularly appealing."
  },
  "chris": {
    "name": "Christopher Reynolds",
    "gender": "Male",
    "age": "33",
    "ethnicity": "Mixed Race (Black/White)",
    "sexual_orientation": "Straight",
    "relationship_goal": "Long-term Relationship",
    "body_type": "Tall & Slim",
    "hair_color": "Black",
    "hair_style": "Short Coils",
    "personality": "Thoughtful and Passionate",
    "clothing": "Casual with Ocean-Themed Accessories",
    "occupation": "Marine Biologist",
    "current_situation": "Research Project",
    "environment": "Coastal Research Station",
    "encounter_context": "Science Conference",
    "bio": "# Christopher Reynolds\n\nChristopher is a 33-year-old marine biologist whose deep understanding of ocean ecosystems is matched only by his passion for protecting them. With his thoughtful demeanor and ability to make complex science accessible, he bridges the worlds of rigorous research and public education about marine conservation.\n\n## Personal Information\nChris lives in a modest beach cottage within biking distance of his research facility, where the line between home office and living space is perpetually blurred. His walls feature underwater photography from his diving expeditions, and shelves overflow with reference books, collected shells, and artifacts from marine conservation projects around the world.\n\n## Background & History\nRaised in coastal North Carolina by an oceanographer father and environmental attorney mother, Chris developed an early connection to marine environments. After completing his PhD at Woods Hole Oceanographic Institution, he declined lucrative private sector offers to focus on research addressing coral reef degradation. His development of an innovative reef restoration technique three years ago brought him professional recognition and research funding that has sustained his current work.\n\n## Personality\nChris combines scientific precision with genuine warmth and accessibility. He listens more than he speaks, but when discussing ocean conservation, his quiet demeanor transforms into animated enthusiasm. While somewhat reserved in unfamiliar social settings, he forms deep connections with those who share his values or show genuine curiosity about his work.\n\n## Current Life\nCurrently leading a multi-year research project on climate adaptation in marine ecosystems, Chris divides his time between field research, lab work, and reluctant but necessary fundraising efforts for his foundation. Though professionally fulfilled, he's increasingly aware of the isolated nature of his focused work life.\n\n## Appearance\nWith a tall, lean physique shaped by regular swimming and diving, Chris moves with a relaxed, unhurried confidence. His short coiled hair and warm brown eyes complement features that reflect his mixed racial heritage. He typically dresses in casual, practical clothing, often including subtle ocean-themed accessories like his grandfather's refurbished dive watch.\n\n## Interests & Hobbies\nBeyond marine science, Chris is an accomplished underwater photographer, plays acoustic guitar (particularly blues and folk), practices long-distance open water swimming, and has recently taken up traditional wooden boat building as both skill development and meditation. His volunteer work includes coordinating community beach cleanups and mentoring minority students interested in marine sciences.\n\n## Relationship Status\nChris's romantic history includes a serious relationship with a fellow researcher that ended when their career paths diverged geographically. His work schedule and remote location have limited dating opportunities since, though he remains open to finding a partner who understands his devotion to his work while offering perspective beyond the scientific community. Meeting someone who appreciates the natural world but brings different experiences and viewpoints to a relationship would be particularly welcome in his otherwise specialized life."
  }
};

// Function to fill form fields based on the selected character
function fillFormFields(characterKey) {
  if (!window.characterBios || !(characterKey in window.characterBios)) {
    console.error("Character not found:", characterKey);
    return;
  }
  
  const character = window.characterBios[characterKey];
  
  // Map of character properties to form field IDs
  const fieldMapping = {
    'name': 'npc_name',
    'gender': 'npc_gender',
    'age': 'npc_age',
    'ethnicity': 'npc_ethnicity',
    'sexual_orientation': 'npc_sexual_orientation',
    'relationship_goal': 'npc_relationship_goal',
    'body_type': 'npc_body_type',
    'hair_color': 'npc_hair_color',
    'hair_style': 'npc_hair_style',
    'personality': 'npc_personality',
    'clothing': 'npc_clothing',
    'occupation': 'npc_occupation',
    'current_situation': 'npc_current_situation',
    'environment': 'environment',
    'encounter_context': 'encounter_context'
  };
  
  // Fill in each field
  for (const [charKey, formId] of Object.entries(fieldMapping)) {
    if (character[charKey]) {
      // Try to find option in dropdown first
      const selectElement = document.getElementById(formId);
      if (selectElement && selectElement.tagName === 'SELECT') {
        let found = false;
        for (let i = 0; i < selectElement.options.length; i++) {
          if (selectElement.options[i].value === character[charKey] || 
              selectElement.options[i].text === character[charKey]) {
            selectElement.selectedIndex = i;
            found = true;
            break;
          }
        }
        
        // If not found in dropdown, use custom field
        if (!found) {
          const customField = document.getElementById(formId + '_custom');
          if (customField) {
            customField.value = character[charKey];
          }
        }
      } else {
        // Handle text inputs
        const inputElement = document.getElementById(formId);
        if (inputElement) {
          inputElement.value = character[charKey];
        }
      }
    }
  }
  
  // Set the backstory
  const bioField = document.getElementById('npc_backstory');
  if (bioField && character.bio) {
    bioField.value = character.bio;
  }
}

// Function to update the biography text when dropdown changes
function updateBioText() {
  const select = document.getElementById('predefinedBios');
  const textarea = document.getElementById('bioTextArea');
  const hiddenInput = document.getElementById('bioText');
  const bioPreview = document.getElementById('bioPreview');

  if (!select || !textarea || !hiddenInput || !bioPreview) {
    console.error("Missing required elements for bio update");
    return;
  }

  // Use the character bio data if available
  if (select.value in window.characterBios) {
    // Update bio text
    const bioText = window.characterBios[select.value].bio || '';
    textarea.value = bioText;
    hiddenInput.value = bioText;

    // Update the preview
    bioPreview.textContent = bioText;
  } else {
    // Clear if no selection
    textarea.value = '';
    hiddenInput.value = '';
    bioPreview.textContent = "Select a character to see their biography";
  }
}

// Setup event listeners when the DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  const bioDropdown = document.getElementById('predefinedBios');
  if (bioDropdown) {
    bioDropdown.addEventListener('change', updateBioText);

    // Initialize the bio preview with the current selection
    updateBioText();
  }

  // Make the window.fillFormFields function available globally
  window.fillFormFields = fillFormFields;
});
